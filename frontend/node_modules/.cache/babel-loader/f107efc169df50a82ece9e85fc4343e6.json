{"ast":null,"code":"import axios from 'axios';\nconst API_URL = 'http://localhost:5000/api/search/schools';\nexport const schoolService = {\n  getAll: async () => {\n    try {\n      const res = await axios.get(API_URL);\n      console.log('API Response:', res.data);\n\n      // Trường hợp API trả về mảng trực tiếp\n      if (Array.isArray(res.data)) {\n        return {\n          success: true,\n          data: res.data.map(school => ({\n            id: school.id || school.school_id,\n            name: school.name || school.school_name,\n            location: school.location || school.school_location,\n            type: school.type || school.school_type,\n            ownership: school.ownership || school.school_ownership\n          }))\n        };\n      }\n\n      // Trường hợp API bọc mảng trong object có success/data\n      const {\n        success,\n        data\n      } = res.data;\n      if (success && Array.isArray(data)) {\n        return {\n          success: true,\n          data: data.map(school => ({\n            id: school.id || school.school_id,\n            name: school.name || school.school_name,\n            location: school.location || school.school_location,\n            type: school.type || school.school_type,\n            ownership: school.ownership || school.school_ownership\n          }))\n        };\n      }\n      return {\n        success: false,\n        error: 'No data received or invalid format'\n      };\n    } catch (error) {\n      console.error('Error fetching schools:', error);\n      return {\n        success: false,\n        error: error.message\n      };\n    }\n  },\n  searchSchools: async query => {\n    try {\n      const response = await axios.get(`${API_URL}/search?q=${encodeURIComponent(query)}`);\n      const {\n        success,\n        data\n      } = response.data;\n      if (success) {\n        return {\n          success: true,\n          data\n        };\n      }\n      return {\n        success: false,\n        error: 'Search failed'\n      };\n    } catch (error) {\n      return {\n        success: false,\n        error: error.message\n      };\n    }\n  }\n};","map":{"version":3,"names":["axios","API_URL","schoolService","getAll","res","get","console","log","data","Array","isArray","success","map","school","id","school_id","name","school_name","location","school_location","type","school_type","ownership","school_ownership","error","message","searchSchools","query","response","encodeURIComponent"],"sources":["F:/career-project/frontend/src/services/schoolService.js"],"sourcesContent":["import axios from 'axios';\n\nconst API_URL = 'http://localhost:5000/api/search/schools';\n\nexport const schoolService = {\n    getAll: async () => {\n        try {\n            const res = await axios.get(API_URL);\n            console.log('API Response:', res.data);\n\n            // Trường hợp API trả về mảng trực tiếp\n            if (Array.isArray(res.data)) {\n                return {\n                    success: true,\n                    data: res.data.map((school) => ({\n                        id: school.id || school.school_id,\n                        name: school.name || school.school_name,\n                        location: school.location || school.school_location,\n                        type: school.type || school.school_type,\n                        ownership: school.ownership || school.school_ownership,\n                    })),\n                };\n            }\n\n            // Trường hợp API bọc mảng trong object có success/data\n            const { success, data } = res.data;\n\n            if (success && Array.isArray(data)) {\n                return {\n                    success: true,\n                    data: data.map((school) => ({\n                        id: school.id || school.school_id,\n                        name: school.name || school.school_name,\n                        location: school.location || school.school_location,\n                        type: school.type || school.school_type,\n                        ownership: school.ownership || school.school_ownership,\n                    })),\n                };\n            }\n\n            return {\n                success: false,\n                error: 'No data received or invalid format',\n            };\n        } catch (error) {\n            console.error('Error fetching schools:', error);\n            return { success: false, error: error.message };\n        }\n    },\n\n    searchSchools: async (query) => {\n        try {\n            const response = await axios.get(`${API_URL}/search?q=${encodeURIComponent(query)}`);\n            const { success, data } = response.data;\n            if (success) {\n                return { success: true, data };\n            }\n            return { success: false, error: 'Search failed' };\n        } catch (error) {\n            return { success: false, error: error.message };\n        }\n    },\n};\n"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AAEzB,MAAMC,OAAO,GAAG,0CAA0C;AAE1D,OAAO,MAAMC,aAAa,GAAG;EACzBC,MAAM,EAAE,MAAAA,CAAA,KAAY;IAChB,IAAI;MACA,MAAMC,GAAG,GAAG,MAAMJ,KAAK,CAACK,GAAG,CAACJ,OAAO,CAAC;MACpCK,OAAO,CAACC,GAAG,CAAC,eAAe,EAAEH,GAAG,CAACI,IAAI,CAAC;;MAEtC;MACA,IAAIC,KAAK,CAACC,OAAO,CAACN,GAAG,CAACI,IAAI,CAAC,EAAE;QACzB,OAAO;UACHG,OAAO,EAAE,IAAI;UACbH,IAAI,EAAEJ,GAAG,CAACI,IAAI,CAACI,GAAG,CAAEC,MAAM,KAAM;YAC5BC,EAAE,EAAED,MAAM,CAACC,EAAE,IAAID,MAAM,CAACE,SAAS;YACjCC,IAAI,EAAEH,MAAM,CAACG,IAAI,IAAIH,MAAM,CAACI,WAAW;YACvCC,QAAQ,EAAEL,MAAM,CAACK,QAAQ,IAAIL,MAAM,CAACM,eAAe;YACnDC,IAAI,EAAEP,MAAM,CAACO,IAAI,IAAIP,MAAM,CAACQ,WAAW;YACvCC,SAAS,EAAET,MAAM,CAACS,SAAS,IAAIT,MAAM,CAACU;UAC1C,CAAC,CAAC;QACN,CAAC;MACL;;MAEA;MACA,MAAM;QAAEZ,OAAO;QAAEH;MAAK,CAAC,GAAGJ,GAAG,CAACI,IAAI;MAElC,IAAIG,OAAO,IAAIF,KAAK,CAACC,OAAO,CAACF,IAAI,CAAC,EAAE;QAChC,OAAO;UACHG,OAAO,EAAE,IAAI;UACbH,IAAI,EAAEA,IAAI,CAACI,GAAG,CAAEC,MAAM,KAAM;YACxBC,EAAE,EAAED,MAAM,CAACC,EAAE,IAAID,MAAM,CAACE,SAAS;YACjCC,IAAI,EAAEH,MAAM,CAACG,IAAI,IAAIH,MAAM,CAACI,WAAW;YACvCC,QAAQ,EAAEL,MAAM,CAACK,QAAQ,IAAIL,MAAM,CAACM,eAAe;YACnDC,IAAI,EAAEP,MAAM,CAACO,IAAI,IAAIP,MAAM,CAACQ,WAAW;YACvCC,SAAS,EAAET,MAAM,CAACS,SAAS,IAAIT,MAAM,CAACU;UAC1C,CAAC,CAAC;QACN,CAAC;MACL;MAEA,OAAO;QACHZ,OAAO,EAAE,KAAK;QACda,KAAK,EAAE;MACX,CAAC;IACL,CAAC,CAAC,OAAOA,KAAK,EAAE;MACZlB,OAAO,CAACkB,KAAK,CAAC,yBAAyB,EAAEA,KAAK,CAAC;MAC/C,OAAO;QAAEb,OAAO,EAAE,KAAK;QAAEa,KAAK,EAAEA,KAAK,CAACC;MAAQ,CAAC;IACnD;EACJ,CAAC;EAEDC,aAAa,EAAE,MAAOC,KAAK,IAAK;IAC5B,IAAI;MACA,MAAMC,QAAQ,GAAG,MAAM5B,KAAK,CAACK,GAAG,CAAC,GAAGJ,OAAO,aAAa4B,kBAAkB,CAACF,KAAK,CAAC,EAAE,CAAC;MACpF,MAAM;QAAEhB,OAAO;QAAEH;MAAK,CAAC,GAAGoB,QAAQ,CAACpB,IAAI;MACvC,IAAIG,OAAO,EAAE;QACT,OAAO;UAAEA,OAAO,EAAE,IAAI;UAAEH;QAAK,CAAC;MAClC;MACA,OAAO;QAAEG,OAAO,EAAE,KAAK;QAAEa,KAAK,EAAE;MAAgB,CAAC;IACrD,CAAC,CAAC,OAAOA,KAAK,EAAE;MACZ,OAAO;QAAEb,OAAO,EAAE,KAAK;QAAEa,KAAK,EAAEA,KAAK,CAACC;MAAQ,CAAC;IACnD;EACJ;AACJ,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module"}