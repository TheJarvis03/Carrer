{"ast":null,"code":"import axios from 'axios';\nimport { API_URL, SCORES_URL } from './constants';\nconst schoolDetailService = {\n  getSchoolDetail: async code => {\n    try {\n      var _response$data;\n      const response = await axios.get(`${API_URL}/${code}`);\n      if (response !== null && response !== void 0 && (_response$data = response.data) !== null && _response$data !== void 0 && _response$data.success) {\n        return {\n          success: true,\n          data: response.data.data\n        };\n      }\n      return {\n        success: false,\n        data: null,\n        error: 'Không tìm thấy thông tin trường'\n      };\n    } catch (error) {\n      console.error('Error fetching school details:', error);\n      return {\n        success: false,\n        data: null,\n        error: 'Lỗi khi tải thông tin trường'\n      };\n    }\n  },\n  getSchoolScores: async code => {\n    try {\n      var _response$data2;\n      const response = await axios.get(`${SCORES_URL}/school/${code}`);\n      if (response !== null && response !== void 0 && (_response$data2 = response.data) !== null && _response$data2 !== void 0 && _response$data2.success) {\n        // Transform and group scores by year\n        const scores = response.data.data.reduce((acc, score) => {\n          const year = score.year || new Date().getFullYear();\n          if (!acc[year]) {\n            acc[year] = [];\n          }\n          acc[year].push({\n            majorName: score.major_name || '',\n            majorCode: score.major_code || '',\n            subjects: score.subjects || [],\n            score: score.score || '',\n            note: score.note || ''\n          });\n          return acc;\n        }, {});\n        return {\n          success: true,\n          data: scores\n        };\n      }\n      return {\n        success: false,\n        data: {},\n        error: 'Không tìm thấy điểm chuẩn'\n      };\n    } catch (error) {\n      console.error('Error fetching scores:', error);\n      return {\n        success: false,\n        data: {},\n        error: 'Lỗi khi tải điểm chuẩn'\n      };\n    }\n  }\n};\nexport default schoolDetailService;","map":{"version":3,"names":["axios","API_URL","SCORES_URL","schoolDetailService","getSchoolDetail","code","_response$data","response","get","data","success","error","console","getSchoolScores","_response$data2","scores","reduce","acc","score","year","Date","getFullYear","push","majorName","major_name","majorCode","major_code","subjects","note"],"sources":["F:/career-project/frontend/src/services/schoolDetailService.js"],"sourcesContent":["import axios from 'axios';\nimport { API_URL, SCORES_URL } from './constants';\n\nconst schoolDetailService = {\n    getSchoolDetail: async (code) => {\n        try {\n            const response = await axios.get(`${API_URL}/${code}`);\n            if (response?.data?.success) {\n                return {\n                    success: true,\n                    data: response.data.data\n                };\n            }\n            return { success: false, data: null, error: 'Không tìm thấy thông tin trường' };\n        } catch (error) {\n            console.error('Error fetching school details:', error);\n            return { success: false, data: null, error: 'Lỗi khi tải thông tin trường' };\n        }\n    },\n\n    getSchoolScores: async (code) => {\n        try {\n            const response = await axios.get(`${SCORES_URL}/school/${code}`);\n            if (response?.data?.success) {\n                // Transform and group scores by year\n                const scores = response.data.data.reduce((acc, score) => {\n                    const year = score.year || new Date().getFullYear();\n                    if (!acc[year]) {\n                        acc[year] = [];\n                    }\n                    acc[year].push({\n                        majorName: score.major_name || '',\n                        majorCode: score.major_code || '',\n                        subjects: score.subjects || [],\n                        score: score.score || '',\n                        note: score.note || ''\n                    });\n                    return acc;\n                }, {});\n\n                return {\n                    success: true,\n                    data: scores\n                };\n            }\n            return { success: false, data: {}, error: 'Không tìm thấy điểm chuẩn' };\n        } catch (error) {\n            console.error('Error fetching scores:', error);\n            return { success: false, data: {}, error: 'Lỗi khi tải điểm chuẩn' };\n        }\n    }\n};\n\nexport default schoolDetailService;\n"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,SAASC,OAAO,EAAEC,UAAU,QAAQ,aAAa;AAEjD,MAAMC,mBAAmB,GAAG;EACxBC,eAAe,EAAE,MAAOC,IAAI,IAAK;IAC7B,IAAI;MAAA,IAAAC,cAAA;MACA,MAAMC,QAAQ,GAAG,MAAMP,KAAK,CAACQ,GAAG,CAAC,GAAGP,OAAO,IAAII,IAAI,EAAE,CAAC;MACtD,IAAIE,QAAQ,aAARA,QAAQ,gBAAAD,cAAA,GAARC,QAAQ,CAAEE,IAAI,cAAAH,cAAA,eAAdA,cAAA,CAAgBI,OAAO,EAAE;QACzB,OAAO;UACHA,OAAO,EAAE,IAAI;UACbD,IAAI,EAAEF,QAAQ,CAACE,IAAI,CAACA;QACxB,CAAC;MACL;MACA,OAAO;QAAEC,OAAO,EAAE,KAAK;QAAED,IAAI,EAAE,IAAI;QAAEE,KAAK,EAAE;MAAkC,CAAC;IACnF,CAAC,CAAC,OAAOA,KAAK,EAAE;MACZC,OAAO,CAACD,KAAK,CAAC,gCAAgC,EAAEA,KAAK,CAAC;MACtD,OAAO;QAAED,OAAO,EAAE,KAAK;QAAED,IAAI,EAAE,IAAI;QAAEE,KAAK,EAAE;MAA+B,CAAC;IAChF;EACJ,CAAC;EAEDE,eAAe,EAAE,MAAOR,IAAI,IAAK;IAC7B,IAAI;MAAA,IAAAS,eAAA;MACA,MAAMP,QAAQ,GAAG,MAAMP,KAAK,CAACQ,GAAG,CAAC,GAAGN,UAAU,WAAWG,IAAI,EAAE,CAAC;MAChE,IAAIE,QAAQ,aAARA,QAAQ,gBAAAO,eAAA,GAARP,QAAQ,CAAEE,IAAI,cAAAK,eAAA,eAAdA,eAAA,CAAgBJ,OAAO,EAAE;QACzB;QACA,MAAMK,MAAM,GAAGR,QAAQ,CAACE,IAAI,CAACA,IAAI,CAACO,MAAM,CAAC,CAACC,GAAG,EAAEC,KAAK,KAAK;UACrD,MAAMC,IAAI,GAAGD,KAAK,CAACC,IAAI,IAAI,IAAIC,IAAI,CAAC,CAAC,CAACC,WAAW,CAAC,CAAC;UACnD,IAAI,CAACJ,GAAG,CAACE,IAAI,CAAC,EAAE;YACZF,GAAG,CAACE,IAAI,CAAC,GAAG,EAAE;UAClB;UACAF,GAAG,CAACE,IAAI,CAAC,CAACG,IAAI,CAAC;YACXC,SAAS,EAAEL,KAAK,CAACM,UAAU,IAAI,EAAE;YACjCC,SAAS,EAAEP,KAAK,CAACQ,UAAU,IAAI,EAAE;YACjCC,QAAQ,EAAET,KAAK,CAACS,QAAQ,IAAI,EAAE;YAC9BT,KAAK,EAAEA,KAAK,CAACA,KAAK,IAAI,EAAE;YACxBU,IAAI,EAAEV,KAAK,CAACU,IAAI,IAAI;UACxB,CAAC,CAAC;UACF,OAAOX,GAAG;QACd,CAAC,EAAE,CAAC,CAAC,CAAC;QAEN,OAAO;UACHP,OAAO,EAAE,IAAI;UACbD,IAAI,EAAEM;QACV,CAAC;MACL;MACA,OAAO;QAAEL,OAAO,EAAE,KAAK;QAAED,IAAI,EAAE,CAAC,CAAC;QAAEE,KAAK,EAAE;MAA4B,CAAC;IAC3E,CAAC,CAAC,OAAOA,KAAK,EAAE;MACZC,OAAO,CAACD,KAAK,CAAC,wBAAwB,EAAEA,KAAK,CAAC;MAC9C,OAAO;QAAED,OAAO,EAAE,KAAK;QAAED,IAAI,EAAE,CAAC,CAAC;QAAEE,KAAK,EAAE;MAAyB,CAAC;IACxE;EACJ;AACJ,CAAC;AAED,eAAeR,mBAAmB","ignoreList":[]},"metadata":{},"sourceType":"module"}