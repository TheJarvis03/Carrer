{"ast":null,"code":"import axios from 'axios';\nconst API_URL = 'http://localhost:5000/api/scores';\nexport const admissionScoreService = {\n  getScores: async filters => {\n    try {\n      const response = await axios.get(API_URL, {\n        params: filters\n      });\n      const {\n        success,\n        data,\n        pagination\n      } = response.data;\n      if (success && Array.isArray(data)) {\n        return {\n          success: true,\n          data: data.map(score => ({\n            _id: score._id,\n            major_name: score.major_name,\n            university: score.university,\n            major_code: score.major_code,\n            subject_group: score.subject_group,\n            score: score.score,\n            note: score.note\n          })),\n          pagination: pagination || {\n            currentPage: 1,\n            totalPages: 1,\n            totalItems: 0,\n            itemsPerPage: 10\n          }\n        };\n      }\n      return {\n        success: false,\n        error: 'Invalid data format',\n        data: [],\n        pagination: {\n          currentPage: 1,\n          totalPages: 1,\n          totalItems: 0,\n          itemsPerPage: 10\n        }\n      };\n    } catch (error) {\n      console.error('Error fetching scores:', error);\n      return {\n        success: false,\n        error: error.message,\n        data: [],\n        pagination: {\n          currentPage: 1,\n          totalPages: 1,\n          totalItems: 0,\n          itemsPerPage: 10\n        }\n      };\n    }\n  },\n  searchScores: async filters => {\n    try {\n      const queryParams = new URLSearchParams();\n\n      // Thêm các tham số tìm kiếm vào URL\n      if (filters.query) queryParams.append('query', filters.query);\n      if (filters.examGroup !== 'all') queryParams.append('examGroup', filters.examGroup);\n      if (filters.scoreRange !== 'all') queryParams.append('scoreRange', filters.scoreRange);\n      if (filters.region !== 'all') queryParams.append('region', filters.region);\n      queryParams.append('year', filters.year);\n      queryParams.append('page', filters.page);\n      const response = await axios.get(`${API_URL}/search?${queryParams.toString()}`);\n      return {\n        success: true,\n        data: response.data.scores,\n        pagination: response.data.pagination\n      };\n    } catch (error) {\n      return {\n        success: false,\n        error: error.message\n      };\n    }\n  }\n};","map":{"version":3,"names":["axios","API_URL","admissionScoreService","getScores","filters","response","get","params","success","data","pagination","Array","isArray","map","score","_id","major_name","university","major_code","subject_group","note","currentPage","totalPages","totalItems","itemsPerPage","error","console","message","searchScores","queryParams","URLSearchParams","query","append","examGroup","scoreRange","region","year","page","toString","scores"],"sources":["F:/career-project/frontend/src/services/admissionScoreService.js"],"sourcesContent":["import axios from 'axios';\n\nconst API_URL = 'http://localhost:5000/api/scores';\n\nexport const admissionScoreService = {\n    getScores: async (filters) => {\n        try {\n            const response = await axios.get(API_URL, { params: filters });\n            const { success, data, pagination } = response.data;\n\n            if (success && Array.isArray(data)) {\n                return {\n                    success: true,\n                    data: data.map((score) => ({\n                        _id: score._id,\n                        major_name: score.major_name,\n                        university: score.university,\n                        major_code: score.major_code,\n                        subject_group: score.subject_group,\n                        score: score.score,\n                        note: score.note,\n                    })),\n                    pagination: pagination || {\n                        currentPage: 1,\n                        totalPages: 1,\n                        totalItems: 0,\n                        itemsPerPage: 10,\n                    },\n                };\n            }\n\n            return {\n                success: false,\n                error: 'Invalid data format',\n                data: [],\n                pagination: {\n                    currentPage: 1,\n                    totalPages: 1,\n                    totalItems: 0,\n                    itemsPerPage: 10,\n                },\n            };\n        } catch (error) {\n            console.error('Error fetching scores:', error);\n            return {\n                success: false,\n                error: error.message,\n                data: [],\n                pagination: {\n                    currentPage: 1,\n                    totalPages: 1,\n                    totalItems: 0,\n                    itemsPerPage: 10,\n                },\n            };\n        }\n    },\n\n    searchScores: async (filters) => {\n        try {\n            const queryParams = new URLSearchParams();\n            \n            // Thêm các tham số tìm kiếm vào URL\n            if (filters.query) queryParams.append('query', filters.query);\n            if (filters.examGroup !== 'all') queryParams.append('examGroup', filters.examGroup);\n            if (filters.scoreRange !== 'all') queryParams.append('scoreRange', filters.scoreRange);\n            if (filters.region !== 'all') queryParams.append('region', filters.region);\n            queryParams.append('year', filters.year);\n            queryParams.append('page', filters.page);\n\n            const response = await axios.get(`${API_URL}/search?${queryParams.toString()}`);\n            return { \n                success: true, \n                data: response.data.scores,\n                pagination: response.data.pagination\n            };\n        } catch (error) {\n            return { success: false, error: error.message };\n        }\n    },\n};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}