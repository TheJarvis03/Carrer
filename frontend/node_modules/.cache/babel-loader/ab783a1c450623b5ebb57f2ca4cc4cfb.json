{"ast":null,"code":"import axios from 'axios';\nconst API_URL = process.env.REACT_APP_API_URL || 'http://localhost:5000/api';\nconst TIMEOUT = 15000;\nconst api = axios.create({\n  baseURL: API_URL,\n  timeout: TIMEOUT\n});\nexport const apiService = {\n  async get(endpoint, params = {}, retries = 2) {\n    try {\n      const response = await api.get(endpoint, {\n        params\n      });\n      if (!response.data.success) {\n        throw new Error(response.data.message);\n      }\n      return {\n        data: response.data.data || [],\n        pagination: response.data.pagination,\n        message: response.data.message\n      };\n    } catch (error) {\n      var _error$response, _error$response$data;\n      if (error.code === 'ECONNABORTED' && retries > 0) {\n        return this.get(endpoint, params, retries - 1);\n      }\n      throw new Error(((_error$response = error.response) === null || _error$response === void 0 ? void 0 : (_error$response$data = _error$response.data) === null || _error$response$data === void 0 ? void 0 : _error$response$data.message) || error.message || 'Không thể kết nối đến server');\n    }\n  },\n  async post(endpoint, data = {}) {\n    try {\n      const response = await api.post(endpoint, data);\n      return response.data;\n    } catch (error) {\n      var _error$response2, _error$response2$data;\n      throw new Error(((_error$response2 = error.response) === null || _error$response2 === void 0 ? void 0 : (_error$response2$data = _error$response2.data) === null || _error$response2$data === void 0 ? void 0 : _error$response2$data.message) || 'Có lỗi xảy ra');\n    }\n  }\n};","map":{"version":3,"names":["axios","API_URL","process","env","REACT_APP_API_URL","TIMEOUT","api","create","baseURL","timeout","apiService","get","endpoint","params","retries","response","data","success","Error","message","pagination","error","_error$response","_error$response$data","code","post","_error$response2","_error$response2$data"],"sources":["F:/career-project/frontend/src/services/apiService.js"],"sourcesContent":["import axios from 'axios';\r\n\r\nconst API_URL = process.env.REACT_APP_API_URL || 'http://localhost:5000/api';\r\nconst TIMEOUT = 15000;\r\n\r\nconst api = axios.create({\r\n    baseURL: API_URL,\r\n    timeout: TIMEOUT,\r\n});\r\n\r\nexport const apiService = {\r\n    async get(endpoint, params = {}, retries = 2) {\r\n        try {\r\n            const response = await api.get(endpoint, { params });\r\n            \r\n            if (!response.data.success) {\r\n                throw new Error(response.data.message);\r\n            }\r\n\r\n            return {\r\n                data: response.data.data || [],\r\n                pagination: response.data.pagination,\r\n                message: response.data.message\r\n            };\r\n        } catch (error) {\r\n            if (error.code === 'ECONNABORTED' && retries > 0) {\r\n                return this.get(endpoint, params, retries - 1);\r\n            }\r\n            throw new Error(\r\n                error.response?.data?.message || \r\n                error.message || \r\n                'Không thể kết nối đến server'\r\n            );\r\n        }\r\n    },\r\n\r\n    async post(endpoint, data = {}) {\r\n        try {\r\n            const response = await api.post(endpoint, data);\r\n            return response.data;\r\n        } catch (error) {\r\n            throw new Error(error.response?.data?.message || 'Có lỗi xảy ra');\r\n        }\r\n    }\r\n};\r\n"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AAEzB,MAAMC,OAAO,GAAGC,OAAO,CAACC,GAAG,CAACC,iBAAiB,IAAI,2BAA2B;AAC5E,MAAMC,OAAO,GAAG,KAAK;AAErB,MAAMC,GAAG,GAAGN,KAAK,CAACO,MAAM,CAAC;EACrBC,OAAO,EAAEP,OAAO;EAChBQ,OAAO,EAAEJ;AACb,CAAC,CAAC;AAEF,OAAO,MAAMK,UAAU,GAAG;EACtB,MAAMC,GAAGA,CAACC,QAAQ,EAAEC,MAAM,GAAG,CAAC,CAAC,EAAEC,OAAO,GAAG,CAAC,EAAE;IAC1C,IAAI;MACA,MAAMC,QAAQ,GAAG,MAAMT,GAAG,CAACK,GAAG,CAACC,QAAQ,EAAE;QAAEC;MAAO,CAAC,CAAC;MAEpD,IAAI,CAACE,QAAQ,CAACC,IAAI,CAACC,OAAO,EAAE;QACxB,MAAM,IAAIC,KAAK,CAACH,QAAQ,CAACC,IAAI,CAACG,OAAO,CAAC;MAC1C;MAEA,OAAO;QACHH,IAAI,EAAED,QAAQ,CAACC,IAAI,CAACA,IAAI,IAAI,EAAE;QAC9BI,UAAU,EAAEL,QAAQ,CAACC,IAAI,CAACI,UAAU;QACpCD,OAAO,EAAEJ,QAAQ,CAACC,IAAI,CAACG;MAC3B,CAAC;IACL,CAAC,CAAC,OAAOE,KAAK,EAAE;MAAA,IAAAC,eAAA,EAAAC,oBAAA;MACZ,IAAIF,KAAK,CAACG,IAAI,KAAK,cAAc,IAAIV,OAAO,GAAG,CAAC,EAAE;QAC9C,OAAO,IAAI,CAACH,GAAG,CAACC,QAAQ,EAAEC,MAAM,EAAEC,OAAO,GAAG,CAAC,CAAC;MAClD;MACA,MAAM,IAAII,KAAK,CACX,EAAAI,eAAA,GAAAD,KAAK,CAACN,QAAQ,cAAAO,eAAA,wBAAAC,oBAAA,GAAdD,eAAA,CAAgBN,IAAI,cAAAO,oBAAA,uBAApBA,oBAAA,CAAsBJ,OAAO,KAC7BE,KAAK,CAACF,OAAO,IACb,8BACJ,CAAC;IACL;EACJ,CAAC;EAED,MAAMM,IAAIA,CAACb,QAAQ,EAAEI,IAAI,GAAG,CAAC,CAAC,EAAE;IAC5B,IAAI;MACA,MAAMD,QAAQ,GAAG,MAAMT,GAAG,CAACmB,IAAI,CAACb,QAAQ,EAAEI,IAAI,CAAC;MAC/C,OAAOD,QAAQ,CAACC,IAAI;IACxB,CAAC,CAAC,OAAOK,KAAK,EAAE;MAAA,IAAAK,gBAAA,EAAAC,qBAAA;MACZ,MAAM,IAAIT,KAAK,CAAC,EAAAQ,gBAAA,GAAAL,KAAK,CAACN,QAAQ,cAAAW,gBAAA,wBAAAC,qBAAA,GAAdD,gBAAA,CAAgBV,IAAI,cAAAW,qBAAA,uBAApBA,qBAAA,CAAsBR,OAAO,KAAI,eAAe,CAAC;IACrE;EACJ;AACJ,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module"}